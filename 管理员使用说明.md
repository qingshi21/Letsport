# 管理员功能使用说明

## 管理员登录

### 登录信息
- **用户名**: `admin`
- **密码**: `admin123`
- **登录地址**: `http://localhost:8080/admin-login.html`

### 登录步骤
1. 访问管理员登录页面
2. 输入用户名 `admin` 和密码 `admin123`
3. 点击"登录"按钮
4. 登录成功后自动跳转到管理员仪表板

## 管理员仪表板功能

### 1. 系统概览
- **总用户数**: 显示系统中的注册用户总数
- **总场馆数**: 显示系统中的场馆总数
- **今日预约**: 显示今天的预约数量
- **待审核评价**: 显示需要审核的用户评价数量

### 2. 用户管理
- **查看用户**: 显示所有注册用户的信息
- **编辑用户状态**: 可以修改用户状态（正常/禁用/封禁）
- **删除用户**: 可以删除用户账户（不能删除管理员账户）

### 3. 场馆管理
- **查看场馆**: 显示所有场馆的详细信息
- **编辑场馆状态**: 可以修改场馆状态（正常/维护中/已关闭）
- **删除场馆**: 可以删除场馆记录

### 4. 预约管理
- **查看预约**: 显示所有用户的预约记录
- **编辑预约状态**: 可以修改预约状态（待确认/已确认/已完成/已取消）
- **删除预约**: 可以删除预约记录

### 5. 评价管理
- **查看评价**: 显示所有用户的评价
- **审核评价**: 可以审核通过或拒绝用户评价
- **删除评价**: 可以删除不当评价

## API接口说明

### 认证接口
```
POST /api/auth/login
Content-Type: application/json
{
    "username": "admin",
    "password": "admin123"
}
```

### 管理员统计接口
```
GET /api/admin/users/count      # 用户统计
GET /api/admin/venues/count     # 场馆统计
GET /api/admin/bookings/today   # 今日预约
GET /api/admin/reviews/pending  # 待审核评价
```

### 数据管理接口
```
GET /api/admin/users            # 获取所有用户
GET /api/admin/venues           # 获取所有场馆
GET /api/admin/bookings         # 获取所有预约
GET /api/admin/reviews          # 获取所有评价
```

### 状态更新接口
```
PUT /api/admin/users/:id/status     # 更新用户状态
PUT /api/admin/venues/:id/status    # 更新场馆状态
PUT /api/admin/bookings/:id/status  # 更新预约状态
PUT /api/admin/reviews/:id/status   # 审核评价
```

### 删除接口
```
DELETE /api/admin/users/:id      # 删除用户
DELETE /api/admin/venues/:id     # 删除场馆
DELETE /api/admin/bookings/:id   # 删除预约
DELETE /api/admin/reviews/:id    # 删除评价
```

## 权限说明

### 管理员权限
- 可以查看所有用户、场馆、预约、评价数据
- 可以修改用户、场馆、预约状态
- 可以审核用户评价
- 可以删除用户、场馆、预约、评价记录
- 不能删除自己的管理员账户

### 安全措施
- 所有管理员接口都需要JWT认证
- 只有用户名为 `admin` 的用户才能访问管理员功能
- 删除操作需要二次确认
- 状态更新有参数验证

## 测试页面

### 功能测试
访问 `http://localhost:8080/admin-test.html` 可以测试所有管理员API接口。

### 测试步骤
1. 点击"测试管理员登录"获取认证token
2. 使用各种测试按钮验证API功能
3. 查看返回结果确认功能正常

## 注意事项

1. **密码安全**: 生产环境中请修改默认管理员密码
2. **数据备份**: 删除操作不可逆，请谨慎操作
3. **权限控制**: 确保只有授权人员才能访问管理员功能
4. **日志记录**: 建议记录所有管理员操作日志
5. **定期维护**: 定期清理无效数据和过期记录

## 故障排除

### 登录失败
- 检查用户名和密码是否正确
- 确认后端服务是否正常运行
- 检查数据库连接是否正常

### API请求失败
- 确认JWT token是否有效
- 检查请求格式是否正确
- 查看后端服务器日志

### 数据不显示
- 检查数据库连接
- 确认数据表是否存在
- 验证API接口是否正常响应 